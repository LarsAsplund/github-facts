<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Verification Practices | GitHub Facts About the HDL Industry</title>
  <meta name="description" content="Report: GitHub Facts About the HDL Industry." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Verification Practices | GitHub Facts About the HDL Industry" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Report: GitHub Facts About the HDL Industry." />
  <meta name="github-repo" content="LarsAsplund/github-facts" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Verification Practices | GitHub Facts About the HDL Industry" />
  
  <meta name="twitter:description" content="Report: GitHub Facts About the HDL Industry." />
  

<meta name="author" content="Lars Asplund" />
<meta name="author" content="Unai Martinez-Corral" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="Rmd/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li style="text-align: center;"><a href="./index.html"><b>GitHub Facts About the HDL Industry</b></a></li>
<li style="text-align: center;"><a title="LarsAsplund/github-facts" href="https://github.com/LarsAsplund/github-facts"><img src="https://img.shields.io/badge/LarsAsplund-github--facts-gray.svg?longCache=true&style=flat-square&logo=github&labelColor=bb642a"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="an-autogenerated-paper.html"><a href="an-autogenerated-paper.html"><i class="fa fa-check"></i>An autogenerated paper</a></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> What Can GitHub Tell Us About the HDL Industry?</a></li>
<li class="chapter" data-level="2" data-path="verification-practices.html"><a href="verification-practices.html"><i class="fa fa-check"></i><b>2</b> Verification Practices</a><ul>
<li class="chapter" data-level="2.1" data-path="verification-practices.html"><a href="verification-practices.html#repository-analysis"><i class="fa fa-check"></i><b>2.1</b> Repository Analysis</a><ul>
<li class="chapter" data-level="2.1.1" data-path="verification-practices.html"><a href="verification-practices.html#repos-howto"><i class="fa fa-check"></i><b>2.1.1</b> How-To</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="verification-practices.html"><a href="verification-practices.html#frameworks"><i class="fa fa-check"></i><b>2.2</b> Frameworks</a><ul>
<li class="chapter" data-level="2.2.1" data-path="verification-practices.html"><a href="verification-practices.html#frameworks-howto"><i class="fa fa-check"></i><b>2.2.1</b> How-To</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="verification-practices.html"><a href="verification-practices.html#users"><i class="fa fa-check"></i><b>2.3</b> Users</a><ul>
<li class="chapter" data-level="2.3.1" data-path="verification-practices.html"><a href="verification-practices.html#users-howto"><i class="fa fa-check"></i><b>2.3.1</b> How-To</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="verification-practices.html"><a href="verification-practices.html#anomalies"><i class="fa fa-check"></i><b>2.4</b> Anomalies</a></li>
<li class="chapter" data-level="2.5" data-path="verification-practices.html"><a href="verification-practices.html#wilson-study-comparison"><i class="fa fa-check"></i><b>2.5</b> Wilson Study Comparison</a><ul>
<li class="chapter" data-level="2.5.1" data-path="verification-practices.html"><a href="verification-practices.html#temporal-bias"><i class="fa fa-check"></i><b>2.5.1</b> Temporal Bias</a></li>
<li class="chapter" data-level="2.5.2" data-path="verification-practices.html"><a href="verification-practices.html#regional-bias"><i class="fa fa-check"></i><b>2.5.2</b> Regional Bias</a></li>
<li class="chapter" data-level="2.5.3" data-path="verification-practices.html"><a href="verification-practices.html#classification-bias"><i class="fa fa-check"></i><b>2.5.3</b> Classification Bias</a></li>
<li class="chapter" data-level="2.5.4" data-path="verification-practices.html"><a href="verification-practices.html#combining-the-studies"><i class="fa fa-check"></i><b>2.5.4</b> Combining the Studies</a></li>
<li class="chapter" data-level="2.5.5" data-path="verification-practices.html"><a href="verification-practices.html#how-to"><i class="fa fa-check"></i><b>2.5.5</b> How-To</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li style="text-align: center;"><a title="Discuss at GitHub Issues" href="https://github.com/LarsAsplund/github-facts/issues"><img src="https://img.shields.io/github/issues-raw/LarsAsplund/github-facts?longCache=true&style=flat-square&logo=github&label=Discuss%20at%20GitHub"></a></li>
<li style="text-align: center;"><a title="Join the chat at https://gitter.im/VUnit/vunit" href="https://gitter.im/VUnit/vunit"><img src="https://img.shields.io/badge/Join%20chat-at%20gitter-4db797.svg?longCache=true&style=flat-square&logo=gitter&logoColor=e8ecef"></a></li>
<li style="text-align: center;"><a title="@VUnitFramework" href="https://www.twitter.com/VUnitFramework"><img src="https://img.shields.io/twitter/follow/VUnitFramework.svg?longCache=true&style=flat-square&color=1DA1F2&label=%40VUnitFramework&logo=twitter&logoColor=fff"></a></li>
<li style="text-align: center; font-size: 12px;"><a href="https://github.com/rstudio/bookdown" target="blank"><i>Published with bookdown</i></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">GitHub Facts About the HDL Industry</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="verification-practices" class="section level1">
<h1><span class="header-section-number">2</span> Verification Practices</h1>
<p>When it comes to statistical analysis of verification practices the <em>Wilson Research Group functional verification study</em> <span class="citation">[<a href="#ref-wilson14">2</a>]</span> <span class="citation">[<a href="#ref-wilson16">3</a>]</span> <span class="citation">[<a href="#ref-wilson18">4</a>]</span> <span class="citation">[<a href="#ref-wilson20">5</a>]</span> has been the main source of information for many years. While this is a good effort towards highlighting interesting industry trends, it has a number of fundamental flaws:</p>
<ul>
<li>It includes some but not all of the <a href="https://star-history.t9t.io/#vunit/vunit&amp;osvvm/osvvm&amp;cocotb/cocotb&amp;UVVM/UVVM">most popular</a> open-source verification frameworks: VUnit <span class="citation">[<a href="#ref-vunit">1</a>]</span>, cocotb <span class="citation">[<a href="#ref-cocotb">6</a>]</span>, OSVVM <span class="citation">[<a href="#ref-osvvm">7</a>]</span> and UVVM <span class="citation">[<a href="#ref-uvvm">8</a>]</span>.</li>
<li>Like any questionnaire-based study, it can’t measure what people not responding do (<a href="https://en.wikipedia.org/wiki/Participation_bias">non-response bias</a>). By the same token, it can only measure what respondents say they do but not what they actually do (<a href="https://en.wikipedia.org/wiki/Response_bias">response bias</a>).</li>
<li>The data from the study in not open, only a selected set of views is. This means that conclusions outside of those views, for example regional differences, are difficult to draw.</li>
</ul>
<p>Keeping the data private is probably the only way to get companies to participate in such a survey and herein lays the problem. <strong>Facts</strong>, from a scientific point of view, are based on <strong>measurements</strong> that can be <strong>repeated</strong> and <strong>reviewed</strong>. This is why this repository comprises a study of open source projects in Github, and the code used to collect and present data is open to everyone. The benefits of this approach are:</p>
<ul>
<li>All open-source verification frameworks are present.</li>
<li>There is no response bias, we see what people actually do. There can be other biases though, and we will get back to that.</li>
<li>Anyone can review and comment <a href="https://github.com/LarsAsplund/github-facts/tree/main/py">the code</a> in public.</li>
<li>Anyone can modify the code to create the views they are interested in.</li>
</ul>
<p>One of the views we are interested in, is the VHDL view. Most VUnit users are working with VHDL designs and verification, so that will be the focus of our first analysis.</p>

<div id="repository-analysis" class="section level2">
<h2><span class="header-section-number">2.1</span> Repository Analysis</h2>
<p>When scanning GitHub for VHDL repositories, <strong>1915113 VHDL files</strong> were found in <strong>36156 repositories</strong>. These repositories were initially analyzed for two things:</p>
<ol style="list-style-type: decimal">
<li><strong>Are tests provided?</strong> This was a simple analysis just looking for VHDL files containing anything with <em>test</em> or <em>tb</em>.</li>
<li><strong>Are any of the standard frameworks used (VUnit, UVM, UVVM, OSVVM and/or cocotb)?</strong> There have been discussions regarding the use of the term “standard(ized)”; so, to be clear, we mean <em>standard</em> as in well-established within the community, not as in standardized.</li>
</ol>
<p>The first analysis (see Figure <a href="verification-practices.html#fig:repositories">2.1</a>) revealed that roughly <strong>46% of all repositories provide tests</strong> for their code and that the trend is declining.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:repositories"></span>
<img src="img/repositories_providing_tests.png" alt="Repositories providing tests." width="85%" />
<p class="caption">
Figure 2.1: Repositories providing tests.
</p>
</div>
<p>Just looking at the file names is not optimal. <strong>6% of the repositories using a standard VHDL-based framework (VUnit, UVVM or OSVVM) do not use such a naming convention</strong>. However, it gives us a ballpark figure and a trend.</p>
<p>The second analysis (see Figure <a href="verification-practices.html#fig:standard">2.2</a>) looked at the repositories providing tests and calculated the percentage of them that are using at least one of the standard verification frameworks. This trend is increasing rapidly over the last few years.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:standard"></span>
<img src="img/repositories_using_std_framework.png" alt="Repositories using standard frameworks." width="85%" />
<p class="caption">
Figure 2.2: Repositories using standard frameworks.
</p>
</div>
<p>Look at the vertical axis though. While the trend is impressive, the absolute numbers are not. <strong>Only 3% of the repositories with tests created last year use a standard verification framework</strong>.</p>
<p>This may come as a surprise. Many engineers working professionally with VHDL would probably say that verification is getting more and more important and that the majority is using a standard framework. Does this mean that GitHub data should be discarded as a relevent indicator for the professional world? There are at least three good reasons not to do so:</p>
<ol style="list-style-type: decimal">
<li>Our beliefs are based on our experiences, and our experiences are often based on our interactions with a limited group of people. This group of people may not be a good representation of the whole VHDL community, for example due to regional differences.</li>
<li>The tendency to only accept our own beliefs is called <a href="https://en.wikipedia.org/wiki/Confirmation_bias">confirmation bias</a> and is deeply rooted in the human nature. We need to be aware that it exists and try to look beyond it.</li>
<li>Not all GitHub repositories are developed by professionals, but some are. We cannot expect GitHub to be a perfect reflection of the professional world but we can expect signs from that world.</li>
</ol>
<p>In the following sections, we will dig deeper into the data to see what frameworks and combination of frameworks people are using. We will also compare those findings to the results presented in the <em>Wilson Research Group functional verification study</em> <span class="citation">[<a href="#ref-wilson18">4</a>]</span>.</p>
<div id="repos-howto" class="section level3">
<h3><span class="header-section-number">2.1.1</span> How-To</h3>
<p>The results presented so far were compiled using the scripts presented in the following sections.</p>
<div id="github-search" class="section level4">
<h4><span class="header-section-number">2.1.1.1</span> <code>github_search.py</code></h4>
<p><a href="https://github.com/LarsAsplund/github-facts/tree/main/py/github_search.py"><code>github_search.py</code></a> is used to search GitHub for all repositories containing files of a specific language and matching a specified query. To find all repositories containing VHDL files one can specify <code>end</code> as the query since all VHDL files contain that key word. The result of the search is listed in text files stored in <code>result_directory</code>. A GitHub user name and a Github <a href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line">access token</a> must also be provided to access the GitHub API.</p>
<pre class="console"><code>python github_search.py \
  vhdl end result_directory \
  YourGitHubUser your_github_access_token</code></pre>
<p>The GitHub API has a number of restriction on searches. One is that you cannot get the full result of the search if the result contains more than 1000 files. To handle that, every search is further restricted by the script to only target files in a limited size range. First files between 1 - n bytes are searched where n is the largest number resulting in less than 1000 files, then files in a range starting with n + 1 bytes are searched and so on until the maximum searchable file size of 384 kB has been included. The accumulated search result after every such increment is stored in a separate file in <code>result_directory</code> and only the last produced file contains the full result.</p>
<p>Occasionally there are more than 1000 found VHDL files of a single size, for example 264 bytes. In these cases some results are lost but most likely the repositories containing those missing files have other VHDL files caught in another search increment; so this will not have a significant effect on the overall statistics.</p>
<p>The GitHub API also has rate limitations, which means that searches with many results take a long time to complete. Searching for all VHDL files takes days but the more limited searches for specific verification frameworks that we will use later can complete in minutes. If you interrupt a longer search and restart it later <code>github_search.py</code> will look at the intermediate result files in <code>result_directory</code> and continue from where it was interrupted.</p>
<p>The result from the latest search for all VHDL files is found in <a href="https://github.com/LarsAsplund/github-facts/tree/main/all_vhdl_repos.txt"><code>all_vhdl_repos.txt</code></a></p>
</div>
<div id="github-clone" class="section level4">
<h4><span class="header-section-number">2.1.1.2</span> <code>github_clone.py</code></h4>
<p><a href="https://github.com/LarsAsplund/github-facts/tree/main/py/github_clone.py"><code>github_clone.py</code></a> makes a clone of all repositories listed in a file such as those produced by <code>github_search.py</code> (<a href="verification-practices.html#github-search">2.1.1.1</a>). The clone is sparse and only contains VHDL, SystemVerilog and Python files, which are the ones used for this study. The sparse clone is also stripped from its <code>.git</code> directory, and zipped to save storage space. The script also stores some basic information about the repository.</p>
<p>A call to the script looks like this:</p>
<pre class="console"><code>python github_clone.py \
  repository_list result_directory \
  YourGitHubUser your_github_access_token</code></pre>
<p>If <code>repository_list</code> contains a repository <code>foo/bar</code>, the script will create a directory <code>foo</code> under <code>result_directory</code> and in that directory the zipped repository as <code>bar.zip</code>. The basic repository information is stored in a JSON file named <code>bar.basic.1.json</code>.</p>
<p>Cloning all VHDL repositories from GitHub takes several days and requires about 180 GB of storage. Due to that size, it has not been possible to share the data. Anyone interested in analyzing those repositories needs to recreate the data locally, using this script and the <a href="https://github.com/LarsAsplund/github-facts/tree/main/all_vhdl_repos.txt">all_vhdl_repos.txt</a> repository list.</p>
</div>
<div id="analyze-test-strategy" class="section level4">
<h4><span class="header-section-number">2.1.1.3</span> <code>analyze_test_strategy.py</code></h4>
<p><a href="https://github.com/LarsAsplund/github-facts/tree/main/py/analyze_test_strategy.py"><code>analyze_test_strategy.py</code></a> analyzes the cloned repositories and generates the statistics presented in this work. The initial search for repositories using any of the standard frameworks is automatic but also produces a number of false positives that must be removed manually:</p>
<ul>
<li>A repository with both VHDL and (System)Verilog files that is also using UVM or cocotb may not use these frameworks to verify the VHDL code. VUnit can also be used for (System)Verilog verification but the search script can distinguish and ignore such repositories to avoid false positives.</li>
<li>Sometimes the main design being verified is based on (System)Verilog but it also includes third party IPs written in VHDL. This is considered a false positive since the IPs are not the target for the verification and the design language of choice is not VHDL.</li>
<li>Some repositories have testbenches based on a standard framework but the purpose is not to verify VHDL code but rather to use the code for testing an EDA tool being developed. A parser for example.</li>
<li>This study is focused on the users of the frameworks, not the developers. The repositories hosting the frameworks and copies of these repositories have been excluded.</li>
</ul>
<p>The false positives are listed in <a href="https://github.com/LarsAsplund/github-facts/tree/main/fp_repos.json"><code>fp_repos.json</code></a>.</p>
<p>The script will produce a JSON file for each analyzed repository (<code>repo_name.test.2.json</code>) and also a summary JSON file. The name of that file is given in the call to the script</p>
<pre class="console"><code>python analyze_test_strategy.py \
  path/to/directory/with/cloned/repositories \
  path/to/analysis_summary.json \
  --fp fp_repos.json</code></pre>
</div>
<div id="visualize-test-strategy" class="section level4">
<h4><span class="header-section-number">2.1.1.4</span> <code>visualize_test_strategy.py</code></h4>
<p><a href="https://github.com/LarsAsplund/github-facts/tree/main/py/visualize_test_strategy.py"><code>visualize_test_strategy.py</code></a> creates the figures used in this post from the results generated by <code>analyze_test_strategy.py</code> (<a href="verification-practices.html#analyze-test-strategy">2.1.1.3</a>). The figures are saved to the output directory given in the call.</p>
<pre class="console"><code>python visualize_test_strategy.py \
  path/to/analysis_summary.json \
  path/to/github_facts/root/repo_classification.json \
  path/to/output/directory</code></pre>

</div>
</div>
</div>
<div id="frameworks" class="section level2">
<h2><span class="header-section-number">2.2</span> Frameworks</h2>
<p>In total, <strong>there are 281 repositories using a standard framework</strong>. Figure <a href="verification-practices.html#fig:total-repo-mix">2.3</a> shows the number of repositories using each framework, and how more than one are used in some of them. Note that using several frameworks in the same repository doesn’t necessarily mean that they are used for the same testbenches. This diagram doesn’t make that distinction.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:total-repo-mix"></span>
<img src="img/total_repo_framework_distribution.svg" alt="Number of repositories using one or several frameworks." width="75%" />
<p class="caption">
Figure 2.3: Number of repositories using one or several frameworks.
</p>
</div>
<p><em>Note: Drawing area proportional Euler diagrams is hard and the R package we used (<a href="https://cran.r-project.org/web/packages/eulerr/">eulerr</a>) didn’t quite make it. In these situations, the missing groups are listed below the diagram. In this case it failed to include two repositories using all three of VUnit, OSVVM, and UVVM.</em></p>
<p>From this diagram we can see how frequently the different frameworks are used, by just counting the number of repositories and to what extent they are used together. One of the more notable facts is that <strong>UVM isn’t the dominating framework</strong>, as concluded in the Wilson study <span class="citation">[<a href="#ref-wilson18">4</a>]</span> (from now on called WS). However, there are several important differences between WS and this GitHub study (from now on called GS). One is that WS has professional participants only, but <strong>the diagram above includes repositories developed by professionals as well as people from Academia</strong>.</p>
<p>To make GS more comparable with WS, all repositories need to be classified as being professional, academic or unknown (if failure to classify). This was done by looking at the contributors to each repository. To classify the contributors as professionals or from academia, GitHub user profiles and Git logs were looked, the usernames were searched through Google and searched on social platforms like LinkedIn. With that information, the following criteria was used:</p>
<ul>
<li>A repository with contributions from professionals is classified as a professional repository. Academic work is sometimes done together with the industry, which means that there is a professional interest for that work. That is the reason for not requiring all contributors to be professionals in order to classify the repository as professional. Also note that we’re not suggesting that professionals publish their professional work on GitHub. What we’re measuring is their practises. The assumption is that these public practises reflect what they do professionally. This assumption will also be tested statistically when we compare the results from WS and GS.</li>
<li>A repository with no contributions from professionals, but with contributions from academia, is classified as an academic repository.</li>
<li>If all contributions are made by users with unknown background, the repository is classified as unknown.</li>
<li>A repository with contributors that are professionals today, but not at the time of their contributions, is not classified as professional.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:professional-repo-mix"></span>
<img src="img/professional_repo_framework_distribution.svg" alt="Number of professional repositories using one or several frameworks." width="75%" />
<p class="caption">
Figure 2.4: Number of professional repositories using one or several frameworks.
</p>
</div>
<p>The distribution of professional repositories, which is shown in Figure <a href="verification-practices.html#fig:professional-repo-mix">2.4</a>, looks a bit different compared to the overall view in figure <a href="verification-practices.html#fig:total-repo-mix">2.3</a>, but UVM is still not dominating. Another notable observation is how frameworks are used in combination:</p>
<ul>
<li><strong>Most repositories using more than one framework use VUnit and OSVVM</strong>.</li>
<li><strong>More than half of the repositories using OSVVM also use VUnit</strong>.</li>
<li><strong>UVM is not combined with any other framework</strong>.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:academic-repo-mix"></span>
<img src="img/academic_repo_framework_distribution.svg" alt="Number of academic repositories using one or several frameworks." width="75%" />
<p class="caption">
Figure 2.5: Number of academic repositories using one or several frameworks.
</p>
</div>
<p>The academic view is shown in Figure <a href="verification-practices.html#fig:academic-repo-mix">2.5</a>. There is less mixing of frameworks in Academia, and this is what we would expect. With less experience, there is less time to try the different alternatives and find the successful combinations.</p>
<table>
<caption><span id="tab:unknown-tab">Table 2.1: </span>Number of unknown repositories.</caption>
<thead>
<tr class="header">
<th align="center">UVVM</th>
<th align="center">VUnit</th>
<th align="center">cocotb</th>
<th align="center">OSVVM</th>
<th align="center">UVM</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">0</td>
<td align="center">3</td>
<td align="center">1</td>
<td align="center">5</td>
<td align="center">6</td>
</tr>
</tbody>
</table>
<p>For completeness, the number of unknown repositories should also be analyzed (see Table <a href="verification-practices.html#tab:unknown-tab">2.1</a>). The numbers are big enough to create an uncertainty about the precedence between cocotb, OSVVM, and UVM in previous diagrams; but they are not significant enough to change the bigger picture. <strong>VUnit is the most commonly used verification framework for VHDL repositories on GitHub</strong>.</p>
<hr />
<p>While some insights were shown on how verification frameworks are used on GitHub, the unexplained differences between WS and GS remain. There are three more possible explanations that need to be investigated further:</p>
<ol style="list-style-type: decimal">
<li>GS is focused on VHDL repositories, while WS includes both VHDL and (System)Verilog projects.</li>
<li>WS was conducted in 2018 while the GitHub data originates from June 2020.</li>
<li>In this section, the number of repositories was analyzed, and not the number of users. This is misleading because a single user can have several repositories and a single repository can have many contributors. WS presents percentages of design projects and would suffer from the same problem. However, we don’t think they have that data. Looking at the newly released 2020 survey (results are yet to be published) there are no questions that allow them to determine if two survey participants are working on the same project or not. Most likely they are counting users.</li>
</ol>
<p>To get a deeper and more accurate understanding of the GitHub data, in following sections we will continue analyzing the Git history of these repositories and finding the number of users for each framework. The Git history will also reveal how the framework usage has changed over time.</p>
<div id="frameworks-howto" class="section level3">
<h3><span class="header-section-number">2.2.1</span> How-To</h3>
<p>The statistics and Euler diagrams presented in this section were produced by the previously mentioned <code>analyze_test_strategy.py</code> (<a href="verification-practices.html#analyze-test-strategy">2.1.1.3</a>) and <code>visualize_test_strategy.py</code> (<a href="verification-practices.html#visualize-test-strategy">2.1.1.4</a>) scripts. The classification of repositories is provided with <a href="https://github.com/LarsAsplund/github-facts/tree/main/repo_classification.json"><code>repo_classification.json</code></a> which is input to the <code>visualize_test_strategy.py</code> script.</p>

</div>
</div>
<div id="users" class="section level2">
<h2><span class="header-section-number">2.3</span> Users</h2>
<p>The user analysis is done by analyzing all commits to the <strong>files using a standard framework</strong>. Every commit author from the time the framework was introduced in the file and forward is logged as a user of that framework. Each user is classifed according to:</p>
<ul>
<li>A user that has committed to a professional repository is considered to be a professional user. Note that the user can be a student, but if there are professionals involved in the same project that student is considered to be working at a professional level.</li>
<li>A user that is not at a professional level but has commits to an academic repository is classified as being an academic user.</li>
<li>All other users are classified as unknown.</li>
</ul>
<p>The list of users has also been checked for aliases. Two commit authors are consider to be the same user if:</p>
<ol style="list-style-type: decimal">
<li>They have the same email address and that address isn’t a common default address such as <code>user@example.com</code>.</li>
<li>The user names are very similar. This is a judgement call but that judgement was aided by using the <a href="https://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a> as a metric for the similarity between strings. The result of that analysis can be found in <a href="https://github.com/LarsAsplund/github-facts/tree/main/user_aliases.json"><code>user_aliases.json</code></a>.</li>
</ol>
<p>Figure <a href="verification-practices.html#fig:total-user">2.6</a> shows the total number of users having experience with each framework. Looking at users rather than repositories (see Figure <a href="verification-practices.html#fig:total-repo-mix">2.3</a>) doesn’t have a drastic effect to the overall picture. <strong>VUnit is still the most commonly used verification framework on GitHub</strong>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:total-user"></span>
<img src="img/total_user.svg" alt="Number of users using one or several frameworks." width="75%" />
<p class="caption">
Figure 2.6: Number of users using one or several frameworks.
</p>
</div>
<p>Using the timestamp for each user’s first commit allows to see how the situation depicted in Figure <a href="verification-practices.html#fig:total-user">2.6</a> evolved over time. This is shown<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> in Figure <a href="verification-practices.html#fig:total-user-bar-race">2.7</a> (download video from <a href="https://github.com/LarsAsplund/github-facts/tree/main/video/total_user_bar_race.mp4"><code>total_user_bar_race.mp4</code></a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:total-user-bar-race"></span>
<img src="video/total_user_bar_race.gif" alt="Number of users over time." width="100%" />
<p class="caption">
Figure 2.7: Number of users over time.
</p>
</div>
<p>A further breakdown of the users based on classification is shown in Figures <a href="verification-practices.html#fig:professional-user">2.8</a>, <a href="verification-practices.html#fig:unknown-user">2.9</a> and <a href="verification-practices.html#fig:academic-user">2.10</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:professional-user"></span>
<img src="img/professional_user.svg" alt="Number of professional users using one or several frameworks." width="75%" />
<p class="caption">
Figure 2.8: Number of professional users using one or several frameworks.
</p>
</div>
<p>The same conslusions made for professional repositories still hold when analyzing professional users:</p>
<ul>
<li><strong>Most professional users using more than one framework use VUnit and OSVVM</strong>.</li>
<li><strong>More than half of the professional users using OSVVM also use VUnit</strong>.</li>
<li><strong>UVM is not combined with any other framework</strong>.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unknown-user"></span>
<img src="img/unknown_user.svg" alt="Number of unknown users using one or several frameworks." width="75%" />
<p class="caption">
Figure 2.9: Number of unknown users using one or several frameworks.
</p>
</div>
<p>The portion of unknown users is the same as the portion of unknown repositories (5%) and they do not affect the main conclusions.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:academic-user"></span>
<img src="img/academic_user.svg" alt="Number of academic users using one or several frameworks." width="75%" />
<p class="caption">
Figure 2.10: Number of academic users using one or several frameworks.
</p>
</div>
<p>The academic view is a bit different from the corresponing view for repositories (see Figure <a href="verification-practices.html#fig:academic-repo-mix">2.5</a>) in that the relative portion of VUnit users is higher. There are more academic VUnit users than users of the other frameworks combined. More research is needed to fully explain the differences between professional and academic framework usage but some insight can be gained by comparing the professional and academic trends as shown in Figures <a href="verification-practices.html#fig:pro-trends">2.11</a> and <a href="verification-practices.html#fig:academic-trends">2.12</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:pro-trends"></span>
<img src="img/professional_users_over_time.svg" alt="Number of professional users over time." width="75%" />
<p class="caption">
Figure 2.11: Number of professional users over time.
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:academic-trends"></span>
<img src="img/academic_users_over_time.svg" alt="Number of academic users over time." width="75%" />
<p class="caption">
Figure 2.12: Number of academic users over time.
</p>
</div>
<p>Overall the trends are stable or slowly changing with one notable exception. There is a drastic change in the number of academic VUnit users in early 2018. It’s always good to keep an eye on anomalies in the data. Are the numbers we see the result of a longer stable trend or caused by a special event? In the next section we will look deeper into this temporal anomaly and find its root cause. We will also look for spatial anomalies by examining the timezones from which the users operate. That will allow us to examine whether the trends we see are global or the results of local hotspots.</p>
<div id="users-howto" class="section level3">
<h3><span class="header-section-number">2.3.1</span> How-To</h3>
<div id="analyze-users" class="section level4">
<h4><span class="header-section-number">2.3.1.1</span> <code>analyze_users.py</code></h4>
<p><a href="https://github.com/LarsAsplund/github-facts/tree/main/py/analyze_users.py"><code>analyze_users.py</code></a> makes a clone of all repositories using a standard framework, according to repository statistics (<a href="https://github.com/LarsAsplund/github-facts/tree/main/repos_stat.json"><code>repos_stat.json</code></a>) created by <a href="https://github.com/LarsAsplund/github-facts/tree/main/py/analyze_test_strategy.py"><code>analyze_test_strategy.py</code></a>. Unlike default <a href="https://github.com/LarsAsplund/github-facts/tree/main/py/github_clone.py"><code>github_clone.py</code></a> use, git histories are preserved and repositories are not compressed. Furthermore, user statistics are extracted by scanning the Git history of all repositories, unlike the repository classification (<a href="https://github.com/LarsAsplund/github-facts/tree/main/repo_classification.json"><code>repo_classification.json</code></a>) and the list of user aliases (<a href="https://github.com/LarsAsplund/github-facts/tree/main/user_aliases.json"><code>user_aliases.json</code></a>).</p>
<p>The script produces a JSON file for each analyzed repository (<code>repo_name.user.1.json</code>) and also a summary JSON file. The name of the output file is given in the call.</p>
<pre class="console"><code>python analyze_users.py \
  path/to/directory/with/cloned/repositories \
  path/to/repos_stat.json \
  path/to/repo_classification.json \
  path/to/user_aliases.json \
  path/to/user_stat.json</code></pre>
<p>The result of our latest run is provided in <a href="https://github.com/LarsAsplund/github-facts/tree/main/user_stat.json"><code>user_stat.json</code></a>.</p>
</div>
<div id="analyze_sample" class="section level4">
<h4><span class="header-section-number">2.3.1.2</span> <code>analyze_sample.py</code></h4>
<p>The analysis of standard framework users also includes a comparison with the whole group of VHDL users on GitHub. This comparison is futher described in the next section. The VHDL users are collected from a random sample of VHDL repositories listed in <a href="https://github.com/LarsAsplund/github-facts/tree/main/sample_repos.txt"><code>sample_repos.txt</code></a>. The sample repositories are first cloned using <a href="https://github.com/LarsAsplund/github-facts/tree/main/py/github_clone.py"><code>github_clone.py</code></a> with the <code>--no-zip</code> option set to prevent repository compression. Next, the <a href="https://github.com/LarsAsplund/github-facts/tree/main/py/analyze_sample.py"><code>analyze_sample.py</code></a> script is called to create a JSON file with the analysis result.</p>
<pre class="console"><code>python analyze_sample.py \
  path/to/directory/with/cloned/sample/repositories \
  path/to/sample_user_stat.json</code></pre>
</div>
<div id="visualize-users" class="section level4">
<h4><span class="header-section-number">2.3.1.3</span> <code>visualize_users.py</code></h4>
<p><a href="https://github.com/LarsAsplund/github-facts/tree/main/py/visualize_users.py"><code>visualize_users.py</code></a> creates the images and the video clips used in this post from the results generated by <a href="https://github.com/LarsAsplund/github-facts/tree/main/py/analyze_users.py"><code>analyze_users.py</code></a> and <a href="https://github.com/LarsAsplund/github-facts/tree/main/py/analyze_sample.py"><code>analyze_sample.py</code></a>. The images and videos are saved to the output directories given in the call.</p>
<pre class="console"><code>python visualize_users.py \
  path/to/user_stat.json \
  path/to/sample_user_stat.json \
  path/to/image_directory \
  path/to/video_directory</code></pre>

</div>
</div>
</div>
<div id="anomalies" class="section level2">
<h2><span class="header-section-number">2.4</span> Anomalies</h2>
<p>The explanation for the VUnit temporal anomaly seen in Figure <a href="verification-practices.html#fig:academic-trends">2.12</a> is to be found in the <em>Elementos de Sistemas</em> course offered by the Brazilian <a href="https://www.insper.edu.br/">Insper Institution</a>. The students of that course used VUnit for their work and also provided the results on GitHub.</p>
<p>The Brazilian connection to this anomaly raises a more general question: are the trends we see global trends or just strong local trends? Git can actually provide insights to that as well, since each Git commit also logs the timezone of the committer.</p>
<p>To set a reference, we start by analyzing how VHDL users are distributed around the globe. Figure <a href="verification-practices.html#fig:vhdl-users-by-region">2.13</a> was created by analyzing all VHDL commits in a <a href="https://github.com/LarsAsplund/github-facts/tree/main/sample_repos.txt">random subset</a> of all the VHDL repositories on GitHub. This subset contains 2000 repositories and slightly more than 2500 users.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:vhdl-users-by-region"></span>
<img src="img/vhdl_timezone_chart.svg" alt="VHDL users by region and timezone." width="85%" />
<p class="caption">
Figure 2.13: VHDL users by region and timezone.
</p>
</div>
<p>With 27 timezones, the image is rather scattered. It is also a bit distorted, since locations using daylight saving time will occupy two timezones during a year, while those not using daylight savings time occupy one. To get a feel for the bigger picture, we have identified three larger regions: (North and South) America; Europe and Africa; and Asia and Australia. The vertical arrows at the top of the region bars represent the 95% confidence intervals for these numbers.</p>
<p>The european/african region has 44% of the users, which is sligtly more than the american region (41%). However, the confidence intervals of the two regions overlap, meaning that the order between the two regions isn’t statistically significant. On the other hand, the asian/australian region is, with 15% of the users, significantly smaller than two other regions. Note that this may not represent the real distribution of VHDL users in the world, since there can be regional differences in open source involvement. However, that potential bias is not important for this study. What’s important is that a framework with an even global adoption should have the given distribution among the regions. Figure <a href="verification-practices.html#fig:framework-users-by-region">2.14</a> shows that this is not the case.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:framework-users-by-region"></span>
<img src="img/framework_timezone_chart.svg" alt="Framework users by region and timezone." width="100%" />
<p class="caption">
Figure 2.14: Framework users by region and timezone.
</p>
</div>
<p>The numbers given in Figure <a href="verification-practices.html#fig:framework-users-by-region">2.14</a> are the actual numbers on GitHub after a full scan for all standard framework users. From that point of view, the result is exact without any confidence interval. However, we’ve assumed that GitHub is representative for some larger group of users which results in the given confidence intervals. What that larger group of users is will be discussed later in this paper.</p>
<p>By comparing the confidence intervals in Figure <a href="verification-practices.html#fig:framework-users-by-region">2.14</a> with those of the reference distribution in Figure <a href="verification-practices.html#fig:vhdl-users-by-region">2.13</a> we can distinguish three different cases:</p>
<ol style="list-style-type: decimal">
<li>The confidence interval for a region completely overlaps that of the reference distribution. This is marked with green arrows.</li>
<li>The confidence interval for a region do not overlap that of the reference distribution. This is marked with red arrows.</li>
<li>The confidence interval for a region partially overlaps that of the reference distribution. This is marked with blue arrows.</li>
</ol>
<p>Based on this classification we can draw some conclusions:</p>
<ul>
<li>All confidence intervals for UVM are green. This means that <strong>the UVM distribution is consistent with an even global adoption of the framework</strong>.</li>
<li><strong>VUnit and OSVVM have no GitHub users in Asia/Australia and this under representation is significant</strong>. Note that also UVVM has no users in that region, but with fewer overall users the confidence intervals are larger and significant conclusions are harder to draw.</li>
<li>As shown in Figure <a href="verification-practices.html#fig:vhdl-users-by-region">2.13</a>, America and Europe/Africa regions are similar in size. <strong>OSVVM and UVVM deviate from this with significantly more users in Europe/Africa while America is significantly under represented</strong>.</li>
</ul>
<p>In the next section, we will derive confidence intervals for all results in this study, as well as the results from WS. This will allow us to conclude where the studies are consistent with each other and where they are significantly different.</p>

</div>
<div id="wilson-study-comparison" class="section level2">
<h2><span class="header-section-number">2.5</span> Wilson Study Comparison</h2>
<p>The Wilson study is performed every even year, but it also asks the participants for their plans for the next year. Based on this, we can create statistics for both odd and even years. Figure <a href="verification-practices.html#fig:wilson-study-2018-2020">2.15</a> shows the framework usage for the years 2018 - 2020 (<span class="citation">[<a href="#ref-wilson18">4</a>]</span> <span class="citation">[<a href="#ref-wilson20">5</a>]</span>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:wilson-study-2018-2020"></span>
<img src="img/wilson_study_2018_2020.svg" alt="Framework users according to the Wilson Study" width="85%" />
<p class="caption">
Figure 2.15: Framework users according to the Wilson Study
</p>
</div>
<p>In addition to the percentage numbers, Figure <a href="verification-practices.html#fig:wilson-study-2018-2020">2.15</a> also contains the 95% confidence interval for each measurement. Using the method of overlapping confidence intervals, we can see few significant changes between 2018 and 2020. <strong>Only the increase in the number of RVM users is a statistically established trend.</strong></p>
<p>The Wilson and GitHub studies focus on different sets of frameworks, which limits what can be compared. UVM, OSVVM, and UVVM are comparable; but, can the Python-based solutions measured by the Wilson study be compared to the cocotb and VUnit measurements in the GitHub study? Unfortunately, we cannot, and there are a number of reasons for that:</p>
<ol style="list-style-type: decimal">
<li>The Wilson study asked the participants if they are using a “<em>Python-Based Methodology (e.g., cocotb, etc.)</em>”. The problem with that question is that we cannot know if that category contains only cocotb users, non cocotb users, or something in between.</li>
<li>cocotb is Python-based, while VUnit is not. VUnit is based on VHDL and SystemVerilog testbenches but uses Python for automating the HDL-external tasks of a testing flow. VUnit is Python-aided rather than Python-based, and it’s unclear how VUnit users responded to this question.</li>
<li>Participants using frameworks not among the predefined choices tend not to tick the “<em>other</em>” option. This was noted in Wilson Study 2016 <span class="citation">[<a href="#ref-wilson16">3</a>]</span> and can also be seen in Figure <a href="verification-practices.html#fig:wilson-study-2018-2020">2.15</a>. The “<em>other</em>” category contains 5-6% of the participants in the data from 2018 and 2019 <span class="citation">[<a href="#ref-wilson18">4</a>]</span>. This is where we would expect to find the users of Python-based methodologies. When Python became a separate category in 2020, it got a 14% of the users <span class="citation">[<a href="#ref-wilson20">5</a>]</span>. We would expect such a significant portion to be shown as a drop in the “<em>other</em>” category, but instead we see an increase to about 9%.</li>
<li>The Wilson study also asks what verification and testbench languages are being used. Among the ASIC projects, 27% answered that they use Python for verification and testbenches, but only 11% use a Python-based methodology. This shows a difference between Python-based and Python-aided, but it’s unclear how many participants make that distinction.</li>
</ol>
<p>Going forward, we will compare the two studies with respect to UVM, OSVVM, and UVVM.</p>
<p>Before we can compare the studies, we also need to compensate the differences in what’s being measured. The Wilson study measures the framework usage in FPGA and ASIC projects. When combined, yields the statistics in Figure <a href="verification-practices.html#fig:wilson-study-2018-2020">2.15</a>. The GitHub study, on the other hand, only measures framework usage for VHDL designs. The VHDL statistics are not provided directly by the Wilson study, but are estimated using the following approach.</p>
<ul>
<li>OSVVM and UVVM are targeting the VHDL community, while the other frameworks target both VHDL and (System)Verilog. It is certainly possible to verify a (System)Verilog design with OSVVM and/or UVVM, but it is assumed to be rare; thus, it can be ignored. With this assumption, all OSVVM and UVVM users in Figure <a href="verification-practices.html#fig:wilson-study-2018-2020">2.15</a> are also verifying VHDL designs.</li>
<li>The Wilson study provides the total number of study participants, as well as the number of participants verifying VHDL designs. Based on the assumption above, we can use this information to calculate the number of users using frameworks other than OSVVM and UVVM to verify VHDL designs. We also assume that the relative portions of the other frameworks are the same as in Figure <a href="verification-practices.html#fig:wilson-study-2018-2020">2.15</a>.</li>
<li>The sum of the percentages in Figure <a href="verification-practices.html#fig:wilson-study-2018-2020">2.15</a> is more than 100% because some users use more than one framework. We assume that this sum remains the same.</li>
</ul>
<p>Using this approach, we get the result shown in Figure <a href="verification-practices.html#fig:wilson-study-vhdl-2018-2020">2.16</a>. The numbers have also been normalized to sum 100%.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:wilson-study-vhdl-2018-2020"></span>
<img src="img/wilson_study_vhdl_2018_2020.svg" alt="Framework users for VHDL designs according to the Wilson Study" width="85%" />
<p class="caption">
Figure 2.16: Framework users for VHDL designs according to the Wilson Study
</p>
</div>
<p>The results in Figure <a href="verification-practices.html#fig:wilson-study-vhdl-2018-2020">2.16</a> can be compared with the GitHub study. The results for 2020 are shown in Figure <a href="verification-practices.html#fig:github-wilson-comparison-2020">2.17</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:github-wilson-comparison-2020"></span>
<img src="img/github_wilson_comparison_2020.svg" alt="Comparison between the Wilson and GitHub studies" width="85%" />
<p class="caption">
Figure 2.17: Comparison between the Wilson and GitHub studies
</p>
</div>
<p>Since the confidence intervals for each group of framework users does overlap between the studies, there is no statistically significant difference between the two. However, judging significance by looking at overlapping confidence intervals comes with a number of problems:</p>
<ul>
<li>The method is not exact. There can be significant differences despite a small overlap in the confidence intervals. The better approach is to calculate the confidence interval for the difference between the measurements. If zero is outside of that confidence interval, we can say that there is a significant difference.</li>
<li>Even with a more exact confidence interval, we cannot look at the frameworks independently since they must sum to 100%.</li>
</ul>
<p>For these reasons, we are going to derive a single metric for judging the similarity between the two studies. We are going to assume that the two studies are based on a random set of users taken from the same population (null hypothesis). With that assumption, we can use the multinomial distribution to calculate the probability for each of the two study results. We can also calculate the combined probability by taking the product of the study probabilities. If the combined probability is among the 5% least probable of all possible results when we do a pair of studies, we say that there is a significant difference and the assumption must be incorrect (null hypothesis is rejected).</p>
<p>We don’t know the true distribution of users in the population, but we can estimate it using the most probable distribution given the two study results we have. This is known as maximum likelihood estimation, and we find the optimum if we combine the participants of the two studies. The result is shown in Figure <a href="verification-practices.html#fig:github-wilson-combined-comparison-2020">2.18</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:github-wilson-combined-comparison-2020"></span>
<img src="img/github_wilson_combined_comparison_2020.svg" alt="Wilson and GitHub studies combined" width="85%" />
<p class="caption">
Figure 2.18: Wilson and GitHub studies combined
</p>
</div>
<p>The result of the combined study is closer to the Wilson study. Yet, that is expected since the Wilson study has a larger sample size and large deviations are less likely.</p>
<p>With the distribution estimate, we can calculate the probability for all 1.4 billion possible pair of study results given the sample sizes we have. The accumulated probability for the study outcomes less likely than the original study combination is 22.5%. About one in four studies will have a result less probable than what we see. For that reason we cannot reject the null hypothesis that the Wilson and GitHub studies are sampling from the same population.</p>
<p>Not being able to reject the null hypothesis doesn’t mean we have proven that the two populations are without differences. There may exists null hypotheses which assumes that there is a relative bias but still give a higher similarity. In the following section we will examine some plausable biases and how they affect the similarity.</p>
<div id="temporal-bias" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Temporal Bias</h3>
<p>The GitHub study presents data accumulated over time while the Wilson Study presents data from a specific point in time (mid 2020). This is a problem since we cannot determine if a GitHub user of an specific framework is still a user today. A user that made the last framework-related commit 5 years ago may still be using that framework outside of GitHub but a user that made the last commit 5 days ago may have decided to stop using that framework. However, the more recent the last commit, the more likely the user is still an active user.</p>
<p>Examining a limited and recent time period on GitHub gives more confidence about data only containing active users. However, with a shorter time span we will also decrease the number of study participants, which lowers the statistical power. Also, unless we can show that there is a significant difference between recent and past data, we can’t confidently exclude the possibility that any difference we see is caused by chance alone.</p>
<p>Figure <a href="verification-practices.html#fig:temporal-bias-analysis-mid-2018">2.19</a> shows a comparison between all, past, and recent GitHub users with the latest Wilson study. Past users are those who made their last commit before the previous Wilson study in mid 2018 and the recent users are those that made their last commit after that point in time.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:temporal-bias-analysis-mid-2018"></span>
<img src="img/temporal_bias_analysis_mid_2018.svg" alt="Temporal bias analysis in mid 2018" width="100%" />
<p class="caption">
Figure 2.19: Temporal bias analysis in mid 2018
</p>
</div>
<p>Compared to the overall GitHub data, the more recent data has a higher portion of UVVM users which is more consistent with the Wilson study and the similarity has increased to 75%. At the same time, the similarity between the past and recent GitHub data is low, 3.2%. We can also see that the confidence intervals for the recent data is wider than for the overall GitHub data. As a measure for the overall uncertainty we can sum all confidence intervals and express the sum as a percentage of the total number of users. The uncertainty for the overall GitHub data is 52% while it’s 72% for the recent data. More insight into these numbers can be gained by analyzing how they depend on the date separating past and recent GitHub data. This is shown in Figure <a href="verification-practices.html#fig:temporal-bias-analysis-2020">2.20</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:temporal-bias-analysis-2020"></span>
<img src="img/temporal_bias_analysis_2020.svg" alt="Temporal bias analysis" width="100%" />
<p class="caption">
Figure 2.20: Temporal bias analysis
</p>
</div>
<p>In general we can see that recent data has a higher similarity to the Wilson study than the overall GitHub data. The similarity in the most recent data is lower than the peak but that time span is also associated with an accelarating uncertainty as the number of inlcluded users goes down. When the separation between past and recent data is set to be early 2018 or later we also have a consistently low similarity between the two data sets which indicates that the separation is meaningful. Setting the separation date at mid 2018 doesn’t yield the highest Wilson similarity. Yet, it’s in the higher region and has some margin to the where the uncertainty starts to accelerate rapidly and where the similarity to the past data increases. <strong>For these reasons we will exclude GitHub data before mid 2018 when comparing with the Wilson study.</strong></p>
</div>
<div id="regional-bias" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Regional Bias</h3>
<p>Another possible bias is how the study participants are distributed between the regions of the world. The Wilson study noted that:</p>
<blockquote>
<p>(…) the 2020 study demographics, as shown in fig. 2, saw an 11 percentage points decline in participation from North America but an increase in participation from Europe and India.</p>
</blockquote>
<p>For concluding that there is a bias in the distribution between regions, we want to exclude the possibility that there is a bias within the regions themselves. The Wilson study doesn’t provide detailed data in this area but the presentation for the study included data for FPGA users in Europe as an example of regional differences. We can extract the VHDL related data using the previously described method and then compare with the GitHub data for the European and African timezones. The result is shown in figure <a href="verification-practices.html#fig:github-wilson-europe">2.21</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:github-wilson-europe"></span>
<img src="img/github_wilson_europe.svg" alt="Wilson and GitHub comparison for Europe" width="100%" />
<p class="caption">
Figure 2.21: Wilson and GitHub comparison for Europe
</p>
</div>
<p>The match is almost perfect with a similarity of 99.9% but this comparison is not ideal since the GitHub study cannot separate:</p>
<ol style="list-style-type: decimal">
<li>the European users from African users.</li>
<li>the FPGA users from the ASIC users.</li>
</ol>
<p>With these problems in mind, and without Wilson measurements for the other regions, we need another method for evaluating regional bias. One such approach is to artificially bias the GitHub study and examine how that affects the similarity when comparing with the Wilson study. We do this by weighing users differently depending on their origin. For example, each user from Europe can be counted as 1.2 while users from other regions are counted with a value less than one to create a bias towards Europe. Figure <a href="verification-practices.html#fig:github-wilson-biased-comparison-2020">2.22</a> shows the result of this approach. Each point represents a study biased to have a specific portion of the participants from each of the regions. Note that the portion of users from Asia/Australia is given implicitly from the portion of the users from the other regions as given by the x and y axes.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:github-wilson-biased-comparison-2020"></span>
<img src="img/region_bias_similarity.svg" alt="Wilson and GitHub studies with bias" width="100%" />
<p class="caption">
Figure 2.22: Wilson and GitHub studies with bias
</p>
</div>
<p>The blue point in figure <a href="verification-practices.html#fig:github-wilson-biased-comparison-2020">2.22</a> marks the unbiased GitHub study. We can improve the 75.3% similarity by moving in the direction of fewer American users which is consistent with the decline noted in the Wilson study. The Wilson study also noted that the loss of American participants was mostly compensated with an increase of participants from Europe and India. However, while Indian participation increased, it also dropped in East Asia leading to a relatively small overall increase of 2% in Asia. This is not consistent with the GitHub data in figure <a href="verification-practices.html#fig:github-wilson-biased-comparison-2020">2.22</a>. In order for the similarity to increase, the American participation drop must be compensated with an increase of Asian/Australian participation and an unchanged European/African participation.</p>
<p>We can also compare the Wilson data from the 2018 study, before the decrease in American participation, with the recent GitHub data of that time. Are the studies more similar with an increased Wilson study participation from North America? Figure <a href="verification-practices.html#fig:temporal-bias-analysis-2018">2.23</a> shows that this is no the case. The similarity in 2018 was actually lower but the difference isn’t large enough to indicate anything but normal fluctuations caused by the uncertainty at hand.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:temporal-bias-analysis-2018"></span>
<img src="img/temporal_bias_analysis_2018.svg" alt="Temporal bias analysis" width="100%" />
<p class="caption">
Figure 2.23: Temporal bias analysis
</p>
</div>
<p><strong>Our conclusion is that the decrease in North American participation in the Wilson study isn’t significant to the comparison with the GitHub study.</strong></p>
</div>
<div id="classification-bias" class="section level3">
<h3><span class="header-section-number">2.5.3</span> Classification Bias</h3>
<p>Figure <a href="verification-practices.html#fig:github-academic-and-professional-comparison-2020">2.24</a> shows how the Wilson study compares with recent academic and professional users of the GitHub study.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:github-academic-and-professional-comparison-2020"></span>
<img src="img/github_academic_and_professional_comparison_2020.svg" alt="Wilson and GitHub studies compared" width="85%" />
<p class="caption">
Figure 2.24: Wilson and GitHub studies compared
</p>
</div>
<p>We see that the academic subset is very similar to the Wilson study with a similarity of 99.9% while the professional subset is very different with a similarity of 1.6%. This raises a number of questions. What do we know about the user classification in the Wilson study and why are the GitHub professional and academic subsets so different?</p>
<p>The high similarity between the Wilson study and the academic GitHub users is not itself a surprise. We can expect academic users to have less experience in general but that is more related to how tools are used rather than what tools are used. The cooperation between EDA vendors and the universities will also give professional influences when it comes to choosing the right tools for verification.</p>
<p>The participants in the Wilson study were selected to represent a broad set of design markets and regions. Given that information and the fact that the major EDA companies have programs reaching tens of thousands university students, we can expect a mix of academic and professional participants. There is no public information about that mix but we find it unlikely that the difference with the professional GitHub subset can be explained by a very high percentage of academic users in the Wilson study. It is the deviation of the professional GitHub subset that requires extra analysis.</p>
<p>Looking at past similarity numbers we see that they are highly volatile. The 1.6% in 2020 was 79% in 2019 and 26% in 2018. We can also get a more high-resolution view by studying the similarity between the academic and professional GitHub data. This is shown in figure <a href="verification-practices.html#fig:github-academic-professional-comparison">2.25</a>. Note that even though the GitHub academic subset is almost identical to the Wilson study in 2020, the similarity between the GitHub academic and professional subsets is higher than the similarity between the Wilson study and the GitHub professional subset. The reason is that the academic subset has a smaller sample size than the Wilson study and that makes larger differences more probable.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:github-academic-professional-comparison"></span>
<img src="img/github_academic_professional_comparison.svg" alt="GitHub academic and professional subset simularity" width="85%" />
<p class="caption">
Figure 2.25: GitHub academic and professional subset simularity
</p>
</div>
<p>The absense of stability in the similarity suggests that the low similarity found in 2020 is largely caused by chance and not by any bias. For that reason we’ve kept the professional data in the comparison with the Wilson study.</p>
</div>
<div id="combining-the-studies" class="section level3">
<h3><span class="header-section-number">2.5.4</span> Combining the Studies</h3>
<p>By removing bias to make the studies comparable we are also in a position where the studies can be combined. A combined study broadens our knowledge when the studies measure different things and it increases the statistical confidence for the things measured by several studies. This latter effect is due to the increased sample size.</p>
<p>In this case, the results of the Wilson study are broaden by adding data for VUnit and cocotb from the Github study. The statistical confidence increases for UVM, OSVVM, and UVVM which are included in both studies.</p>
<p>Figure <a href="verification-practices.html#fig:github-wilson-full-combined-comparison">2.26</a> shows the two studies combined. It was created by taking the relative sizes between the VUnit/cocotb group and the UVM/OSVVM/UVVM group from the Github study. The relative sizes of the frameworks in the latter group were calculated by combining the data from the two studies.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:github-wilson-full-combined-comparison"></span>
<img src="img/github_wilson_full_combined_comparison.svg" alt="Full GitHub and Wilson study comparison" width="85%" />
<p class="caption">
Figure 2.26: Full GitHub and Wilson study comparison
</p>
</div>
<p>The data shows that the frequency of OSVVM and UVVM users are indistinguishable but significantly lower than the number of cocotb and UVM users. The frequency of cocotb and UVM users are also indistinguishable but significantly lower than the number of VUnit users.</p>
</div>
<div id="how-to" class="section level3">
<h3><span class="header-section-number">2.5.5</span> How-To</h3>
<p><a href="https://github.com/LarsAsplund/github-facts/tree/main/py/wilson.py"><code>wilson.py</code></a> provides all the results related to the comparison with the Wilson study. The script is called without any arguments.</p>
<pre class="console"><code>python wilson.py</code></pre>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-vunit">
<p>[1] L. Asplund, O. Kraigher, and contributors, “VUnit: a unit testing framework for VHDL/SystemVerilog,” Sep. 2014. <a href="http://vunit.github.io/">http://vunit.github.io/</a>.</p>
</div>
<div id="ref-wilson14">
<p>[2] Wilson Research Group, “Functional Verification Study,” Jan. 2015. <a href="https://blogs.mentor.com/verificationhorizons/blog/2015/01/21/prologue-the-2014-wilson-research-group-functional-verification-study/">https://blogs.mentor.com/verificationhorizons/blog/2015/01/21/prologue-the-2014-wilson-research-group-functional-verification-study/</a>.</p>
</div>
<div id="ref-wilson16">
<p>[3] Wilson Research Group, “Functional Verification Study,” Aug. 2016. <a href="https://blogs.mentor.com/verificationhorizons/blog/2016/08/08/prologue-the-2016-wilson-research-group-functional-verification-study/">https://blogs.mentor.com/verificationhorizons/blog/2016/08/08/prologue-the-2016-wilson-research-group-functional-verification-study/</a>.</p>
</div>
<div id="ref-wilson18">
<p>[4] Wilson Research Group, “Functional Verification Study,” Nov. 2018. <a href="https://blogs.mentor.com/verificationhorizons/blog/2018/11/14/prologue-the-2018-wilson-research-group-functional-verification-study/">https://blogs.mentor.com/verificationhorizons/blog/2018/11/14/prologue-the-2018-wilson-research-group-functional-verification-study/</a>.</p>
</div>
<div id="ref-wilson20">
<p>[5] Wilson Research Group, “Functional Verification Study,” Nov. 2020. <a href="https://blogs.sw.siemens.com/verificationhorizons/2020/10/27/prologue-the-2020-wilson-research-group-functional-verification-study/">https://blogs.sw.siemens.com/verificationhorizons/2020/10/27/prologue-the-2020-wilson-research-group-functional-verification-study/</a>.</p>
</div>
<div id="ref-cocotb">
<p>[6] C. Higgs, S. Hodgson, and contributors, “Coroutine Cosimulation TestBench (cocotb),” Jun. 2013. <a href="https://github.com/cocotb/cocotb">https://github.com/cocotb/cocotb</a>.</p>
</div>
<div id="ref-osvvm">
<p>[7] J. Lewis and contributors, “Open Source VHDL Verification Methodology (OSVVM),” May 2013. <a href="https://osvvm.org/">https://osvvm.org/</a>.</p>
</div>
<div id="ref-uvvm">
<p>[8] E. Tallaksen and contributors, “Universal VHDL Verification Methodology (UVVM),” Sep. 2013. <a href="https://uvvm.org/">https://uvvm.org/</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Animations/videos for each of the categories are available in the repo. See <a href="https://github.com/LarsAsplund/github-facts/tree/main/video/"><code>video/*_user_bar_race.*</code></a>.<a href="verification-practices.html#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["twitter", "linkedin", "facebook"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/LarsAsplund/github-facts/edit/main/02-00-verification.Rmd",
"text": "Edit"
},
"history": {
"link": "https://github.com/LarsAsplund/github-facts/commits/main/02-00-verification.Rmd",
"text": null
},
"view": {
"link": "https://github.com/LarsAsplund/github-facts/blob/main/02-00-verification.Rmd",
"text": null
},
"download": [["github-facts.pdf", "PDF"], ["github-facts.epub", "EPUB"]],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none"
},
"info": false
});
});
</script>

</body>

</html>
